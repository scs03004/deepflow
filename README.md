# ğŸ¤– AI Codebase Hygiene Toolkit

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![GitHub Issues](https://img.shields.io/github/issues/scs03004/deepflow)](https://github.com/scs03004/deepflow/issues)
[![GitHub Stars](https://img.shields.io/github/stars/scs03004/deepflow)](https://github.com/scs03004/deepflow)

**Keep AI-assisted codebases clean, consistent, and maintainable**

Stop AI development from turning your codebase into a mess. Specialized tools for developers using Claude Code, Cursor, GitHub Copilot, and other AI coding assistants.

## ğŸš¨ **The Problem: AI Makes Code Fast, But Messy Fast**

- âŒ **Pattern Inconsistency**: AI generates different patterns for similar problems across sessions
- âŒ **Architecture Drift**: Small AI changes gradually violate intended architecture  
- âŒ **Context Explosion**: Files grow too large for AI context windows
- âŒ **Session Fragmentation**: Code gets modified without continuity between AI sessions
- âŒ **Technical Debt Accumulation**: Rapid AI prototyping creates cleanup debt

## âœ… **The Solution: Continuous AI-Aware Code Hygiene**

ğŸ¤– **AI Session Tracking** - Monitor changes across AI development sessions with continuity analysis
ğŸ¯ **Pattern Consistency** - Detect and fix inconsistent code patterns generated by AI tools
ğŸ—ï¸ **Architecture Guardrails** - Prevent gradual architectural violations before they become problems
ğŸ“ **Context Management** - Keep files and modules optimized for AI context windows
ğŸ“Š **AI Quality Metrics** - Specialized metrics for AI-generated vs human-written code quality

## ğŸ› ï¸ **AI-Aware Tools**

The AI Codebase Hygiene Toolkit provides **specialized tools** for AI-assisted development:

1. **ğŸ¤– AI Session Tracker** - Track and analyze changes across AI development sessions
2. **ğŸ¯ Pattern Consistency Analyzer** - Detect inconsistent code patterns generated by AI tools
3. **ğŸ—ï¸ Architecture Guardian** - Prevent gradual architectural drift during AI development
4. **ğŸ“ Context Window Optimizer** - Keep files optimized for AI context windows
5. **ğŸŒ AI-Aware Dependency Visualization** - Mermaid graphs with AI development insights
6. **ğŸ“Š AI Code Quality Metrics** - Specialized analysis for AI-generated code patterns

## ğŸš€ **Quick Start**

### Installation
```bash
# Install directly from GitHub
pip install git+https://github.com/scs03004/deepflow.git

# Or clone and install locally
git clone https://github.com/scs03004/deepflow.git
cd deepflow
pip install -e .
```

### Basic Usage
```bash
# Track AI development session
ai-session-tracker start "feature-implementation"

# Analyze codebase with AI-awareness
deepflow-visualizer /path/to/project --ai-awareness

# Check pattern consistency across AI sessions
code-analyzer /path/to/project --ai-metrics --pattern-consistency

# Optimize for AI context windows
context-optimizer /path/to/project --target-tokens 8000

# Monitor architecture drift during AI development
architecture-guardian /path/to/project --enforce-patterns

# End AI session with impact summary
ai-session-tracker end --generate-report
```

## ğŸ“Š **Example Output**

### AI Session Analysis (Real Project)
```
ğŸ¤– AI Session Impact Report - "user-auth-implementation"
ğŸ“… Session Duration: 2.5 hours (3 Claude Code interactions)
ğŸ“ Files Modified: 8 files across 3 modules

ğŸ¯ Pattern Consistency Analysis:
âœ… Authentication patterns: 95% consistent
âš ï¸  Error handling patterns: 67% consistent (3 different styles detected)
âŒ Logging patterns: 45% consistent (needs standardization)

ğŸ“ Context Window Health:
âœ… 6 files remain AI-context friendly (<2000 tokens)
âš ï¸  2 files approaching context limits (>3000 tokens)
  â€¢ controllers/auth_controller.py (3,847 tokens)
  â€¢ models/user_model.py (3,234 tokens)

ğŸ—ï¸ Architecture Drift Detection:
âœ… No layer violations detected
âš ï¸  1 potential coupling issue:
  â€¢ auth_service.py directly importing from presentation layer

ğŸ’¡ AI Development Recommendations:
  1. Standardize error handling patterns across auth module
  2. Consider splitting user_model.py for better AI context
  3. Review auth_service coupling before next session
```

### AI Code Quality Analysis
```
ğŸ¤– AI-Generated Code Analysis: 73% of recent changes are AI-assisted

ğŸ“Š Pattern Consistency Score: 78/100
  â€¢ Function naming: 95% consistent
  â€¢ Error handling: 62% consistent (needs attention)
  â€¢ Import organization: 89% consistent

ğŸ“ Context Window Optimization:
  â€¢ 12 files are AI-context friendly (<2K tokens)
  â€¢ 3 files approaching limits (2K-4K tokens)
  â€¢ 1 file requires splitting (>4K tokens)

ğŸ—ï¸ AI Architecture Impact:
  â€¢ Session fragmentation risk: Medium
  â€¢ Pattern drift detected in authentication module
  â€¢ 2 layer violations introduced during AI sessions

ğŸ’¡ Cleanup Recommendations:
  1. Standardize error handling patterns (15 min effort)
  2. Split large user.py file for better AI context (30 min)
  3. Consolidate authentication patterns (45 min)
```

### Web-Native Mermaid Graph
The toolkit now generates modern, web-native dependency graphs that render perfectly in GitHub:

```mermaid
graph TD
    setup["setup"]
    tools_dependency_visualizer["dependency_visualizer"]
    tools_code_analyzer["code_analyzer"]
    tools_doc_generator["doc_generator"]
    tools_monitoring_dashboard["monitoring_dashboard"]
    tools_pre_commit_validator["pre_commit_validator"]
    tools_ci_cd_integrator["ci_cd_integrator"]

    %% Risk-based styling
    classDef high fill:#ff6b6b,stroke:#d63031,stroke-width:3px,color:#fff
    classDef medium fill:#ffd93d,stroke:#f39c12,stroke-width:2px,color:#2d3436
    classDef low fill:#6bcf7f,stroke:#00b894,stroke-width:1px,color:#2d3436

    class setup low
    class tools_dependency_visualizer medium
    class tools_code_analyzer medium
    class tools_doc_generator high
    class tools_monitoring_dashboard medium
    class tools_pre_commit_validator medium
    class tools_ci_cd_integrator medium
```

### Alternative Command Usage
```bash
# Generate GitHub-ready Mermaid syntax
deepflow-visualizer /path/to/project --format syntax

# Generate interactive HTML dashboard (default)
deepflow-visualizer /path/to/project --format mermaid
```

## ğŸ› ï¸ **AI-Aware Tools**

### 1. AI Session Tracker (`ai-session-tracker`)
- **ğŸ¤– Session monitoring** - Track changes across AI development sessions
- **ğŸ“Š Impact analysis** - Understand how AI sessions affect codebase quality
- **ğŸ”— Continuity tracking** - Maintain context between AI interactions
- **ğŸ“ Session reports** - Generate summaries of AI development impact
- **â±ï¸ Time tracking** - Monitor AI development velocity and patterns

### 2. AI-Aware Dependency Visualizer (`deepflow-visualizer --ai-awareness`)
- **ğŸŒ Context window heatmaps** - Visual indication of files approaching AI limits
- **ğŸ¯ Pattern consistency coloring** - Highlight inconsistent code patterns
- **ğŸ“± AI session timeline** - Show how dependencies evolved across sessions
- **ğŸ” Architecture drift detection** - Visual warnings for architectural violations
- **ğŸ“‹ AI-optimized outputs** - Multiple formats optimized for AI consumption

### 3. Pattern Consistency Analyzer (`code-analyzer --ai-metrics`)
- **ğŸ¯ Pattern drift detection** - Identify inconsistent code patterns from AI
- **ğŸ“Š Consistency scoring** - Quantify pattern consistency across modules
- **ğŸ” Style violation tracking** - Monitor coding style inconsistencies
- **ğŸ’¡ Standardization suggestions** - Recommend pattern consolidation
- **ğŸ“ˆ Trend analysis** - Track pattern consistency over time

### 4. Context Window Optimizer (`context-optimizer`)
- **ğŸ“ Token counting** - Analyze files for AI context window efficiency
- **âœ‚ï¸ Split suggestions** - Recommend module splitting for better AI comprehension
- **ğŸ” Complexity analysis** - Identify overly complex files that break AI flow
- **ğŸ“Š Context health scoring** - Monitor AI-friendliness of codebase
- **ğŸ’¡ Refactoring recommendations** - Suggest optimizations for AI development

### 5. Architecture Guardian (`architecture-guardian`)
- **ğŸ—ï¸ Pattern enforcement** - Define and enforce architectural rules
- **ğŸš¨ Drift detection** - Identify gradual violations during AI sessions
- **ğŸ“ Layer validation** - Ensure proper separation of concerns
- **ğŸ”„ Dependency direction** - Monitor for architectural anti-patterns
- **ğŸ“‹ Compliance reporting** - Generate architecture health reports

### 6. AI Development Documentation
- **ğŸ“ Session logs** - Auto-document AI development sessions
- **ğŸŒ Living architecture** - Keep architecture docs synced with AI changes
- **ğŸ“Š Pattern evolution** - Track how code patterns change over time
- **ğŸ” Impact reports** - Document AI session impacts for review

## ğŸ“ **Project Structure**

```
deepflow/
â”œâ”€â”€ tools/                          # Core dependency management tools
â”‚   â”œâ”€â”€ dependency_visualizer.py    # Graph generation and visualization
â”‚   â”œâ”€â”€ pre_commit_validator.py     # Git hook validation
â”‚   â”œâ”€â”€ ci_cd_integrator.py         # CI/CD pipeline tools
â”‚   â”œâ”€â”€ monitoring_dashboard.py     # Real-time monitoring
â”‚   â”œâ”€â”€ code_analyzer.py            # Smart analysis tools
â”‚   â””â”€â”€ doc_generator.py            # Documentation automation
â”œâ”€â”€ templates/                      # Reusable templates
â”‚   â”œâ”€â”€ DEPENDENCY_MAP_TEMPLATE.md  # Standard dependency map format
â”‚   â”œâ”€â”€ CHANGE_IMPACT_CHECKLIST.md  # Change management checklist
â”‚   â””â”€â”€ dependency_report.html      # HTML report template
â”œâ”€â”€ .github/workflows/              # CI/CD workflows
â”‚   â”œâ”€â”€ dependency_check.yml        # Automated dependency validation
â”‚   â””â”€â”€ documentation_update.yml    # Auto-update documentation
â”œâ”€â”€ tests/                          # Comprehensive test suite
â”œâ”€â”€ examples/                       # Example usage and integrations
â”œâ”€â”€ docs/                          # Detailed documentation
â””â”€â”€ config/                        # Configuration files
```

## ğŸ¯ **Use Cases**

### For AI-Assisted Developers
- **Maintain code quality** during rapid AI development sessions
- **Prevent pattern inconsistencies** across AI-generated code
- **Optimize files** for better AI context window utilization
- **Track architectural drift** introduced by AI modifications

### For Development Teams Using AI
- **Standardize AI development practices** across team members
- **Coordinate AI sessions** without breaking existing patterns
- **Review AI-generated code** for consistency and quality
- **Maintain codebase hygiene** during fast AI prototyping

### For Project Leads & Architects
- **Monitor AI development impact** on codebase architecture
- **Enforce coding standards** during AI-assisted development
- **Generate reports** on AI development session outcomes
- **Plan refactoring** based on AI-introduced technical debt

## ğŸ“š **Documentation**

- **[Getting Started Guide](docs/getting-started.md)** - Installation and basic usage
- **[Tool Reference](docs/tool-reference.md)** - Detailed documentation for each tool
- **[Integration Guide](docs/integration.md)** - CI/CD and workflow integration
- **[API Reference](docs/api-reference.md)** - Programmatic usage
- **[Best Practices](docs/best-practices.md)** - Recommended workflows

## ğŸ¤ **Contributing**

We welcome contributions! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.

## ğŸ“„ **License**

MIT License - see [LICENSE](LICENSE) for details.

## ğŸŒŸ **AI-Focused Features**

- âœ… **AI Session Tracking** - Monitor and analyze AI development sessions
- âœ… **Pattern Consistency** - Detect and fix inconsistent AI-generated patterns
- âœ… **Context Window Optimization** - Keep files AI-context friendly
- âœ… **Architecture Drift Prevention** - Guard against gradual AI-introduced violations
- âœ… **AI-Aware Visualization** - Mermaid graphs with AI development insights
- âœ… **Cross-Platform** - Works with Claude Code, Cursor, GitHub Copilot
- âœ… **Real-time Monitoring** - Live feedback during AI development
- âœ… **Session Continuity** - Maintain context across AI interactions
- âœ… **Open Source** - Free to use and extend for your AI workflow

## ğŸš€ **What's New in v2.0.0 - AI Codebase Hygiene Edition**

### ğŸ¤– AI-Focused Transformation
- **AI Session Tracking**: Complete rewrite as an AI development companion
- **Pattern Consistency Engine**: New algorithms for detecting AI-generated inconsistencies
- **Context Window Intelligence**: Smart analysis for AI-friendly code organization
- **Architecture Drift Prevention**: Real-time monitoring of AI-introduced violations

### ğŸ› ï¸ New AI-Aware Tools
- **ai-session-tracker**: Track and analyze AI development sessions
- **context-optimizer**: Optimize files for AI context windows
- **architecture-guardian**: Prevent gradual architectural violations

### ğŸ”„ Enhanced Existing Tools
- **deepflow-visualizer --ai-awareness**: AI development timeline visualization
- **code-analyzer --ai-metrics**: Pattern consistency and AI code quality analysis

### Migration from v1.x
- **Old Focus**: General dependency management
- **New Focus**: AI-assisted development hygiene
- **Compatibility**: All existing commands work with new `--ai-awareness` flags

---

**Built with â¤ï¸ for clean AI-assisted development**
